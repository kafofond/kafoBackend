2025-11-02T00:35:37.748Z  INFO 8308 --- [kafobackend] [main] kafofond.KafobackendApplication          : Starting KafobackendApplication using Java 24.0.1 with PID 8308 (C:\Users\Hamza SANMO\Desktop\kafoBackend\target\classes started by Hamza SANMO in C:\Users\Hamza SANMO\Desktop\kafoBackend)
2025-11-02T00:35:37.765Z  INFO 8308 --- [kafobackend] [main] kafofond.KafobackendApplication          : The following 2 profiles are active: "prod", "secrets"
2025-11-02T00:35:38.921Z  WARN 8308 --- [kafobackend] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [kafofond.KafobackendApplication]
2025-11-02T00:35:39.017Z ERROR 8308 --- [kafobackend] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [kafofond.KafobackendApplication]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:194) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:418) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:290) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:791) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:609) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.6.jar:3.5.6]
	at kafofond.KafobackendApplication.main(KafobackendApplication.java:12) ~[classes/:na]
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'globalExceptionHandler' for bean class [kafofond.exception.GlobalExceptionHandler] conflicts with existing, non-compatible bean definition of same name and class [kafofond.config.GlobalExceptionHandler]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:361) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:288) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:346) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:281) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:204) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:172) ~[spring-context-6.2.11.jar:6.2.11]
	... 13 common frames omitted

2025-11-02T00:53:51.411Z  INFO 14160 --- [kafobackend] [main] kafofond.KafobackendApplication          : Starting KafobackendApplication using Java 17.0.15 with PID 14160 (C:\Users\Hamza SANMO\Desktop\kafoBackend\target\classes started by Hamza SANMO in C:\Users\Hamza SANMO\Desktop\kafoBackend)
2025-11-02T00:53:51.445Z  INFO 14160 --- [kafobackend] [main] kafofond.KafobackendApplication          : The following 2 profiles are active: "prod", "secrets"
2025-11-02T00:53:52.661Z  WARN 14160 --- [kafobackend] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [kafofond.KafobackendApplication]
2025-11-02T00:53:52.745Z ERROR 14160 --- [kafobackend] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [kafofond.KafobackendApplication]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:194) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:418) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:290) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:791) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:609) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.6.jar:3.5.6]
	at kafofond.KafobackendApplication.main(KafobackendApplication.java:12) ~[classes/:na]
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'globalExceptionHandler' for bean class [kafofond.exception.GlobalExceptionHandler] conflicts with existing, non-compatible bean definition of same name and class [kafofond.config.GlobalExceptionHandler]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:361) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:288) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:346) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:281) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:204) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:172) ~[spring-context-6.2.11.jar:6.2.11]
	... 13 common frames omitted

2025-11-02T00:57:32.528Z  INFO 9636 --- [kafobackend] [main] kafofond.KafobackendApplication          : Starting KafobackendApplication using Java 17.0.15 with PID 9636 (C:\Users\Hamza SANMO\Desktop\kafoBackend\target\classes started by Hamza SANMO in C:\Users\Hamza SANMO\Desktop\kafoBackend)
2025-11-02T00:57:32.537Z  INFO 9636 --- [kafobackend] [main] kafofond.KafobackendApplication          : The following 2 profiles are active: "prod", "secrets"
2025-11-02T00:57:33.615Z  WARN 9636 --- [kafobackend] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [kafofond.KafobackendApplication]
2025-11-02T00:57:33.695Z ERROR 9636 --- [kafobackend] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [kafofond.KafobackendApplication]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:194) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:418) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:290) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:791) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:609) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.6.jar:3.5.6]
	at kafofond.KafobackendApplication.main(KafobackendApplication.java:12) ~[classes/:na]
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'customUserDetailsService' for bean class [kafofond.service.CustomUserDetailsService] conflicts with existing, non-compatible bean definition of same name and class [kafofond.config.CustomUserDetailsService]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:361) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:288) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:346) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:281) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:204) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:172) ~[spring-context-6.2.11.jar:6.2.11]
	... 13 common frames omitted

2025-11-02T01:00:44.474Z  INFO 4996 --- [kafobackend] [main] kafofond.KafobackendApplication          : Starting KafobackendApplication using Java 17.0.15 with PID 4996 (C:\Users\Hamza SANMO\Desktop\kafoBackend\target\classes started by Hamza SANMO in C:\Users\Hamza SANMO\Desktop\kafoBackend)
2025-11-02T01:00:44.491Z  INFO 4996 --- [kafobackend] [main] kafofond.KafobackendApplication          : The following 2 profiles are active: "prod", "secrets"
2025-11-02T01:00:47.381Z  WARN 4996 --- [kafobackend] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'passwordEncoder' defined in class path resource [kafofond/util/PasswordEncoderConfig.class]: Cannot register bean definition [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=passwordEncoderConfig; factoryMethodName=passwordEncoder; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [kafofond/util/PasswordEncoderConfig.class]] for bean 'passwordEncoder' since there is already [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=passwordEncoder; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [kafofond/config/SecurityConfig.class]] bound.
2025-11-02T01:00:47.406Z  INFO 4996 --- [kafobackend] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-02T01:00:47.462Z ERROR 4996 --- [kafobackend] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'passwordEncoder', defined in class path resource [kafofond/util/PasswordEncoderConfig.class], could not be registered. A bean with that name has already been defined in class path resource [kafofond/config/SecurityConfig.class] and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true

2025-11-02T01:04:14.580Z  INFO 8444 --- [kafobackend] [main] kafofond.KafobackendApplication          : Starting KafobackendApplication using Java 17.0.15 with PID 8444 (C:\Users\Hamza SANMO\Desktop\kafoBackend\target\classes started by Hamza SANMO in C:\Users\Hamza SANMO\Desktop\kafoBackend)
2025-11-02T01:04:14.588Z  INFO 8444 --- [kafobackend] [main] kafofond.KafobackendApplication          : The following 2 profiles are active: "prod", "secrets"
2025-11-02T01:04:18.361Z  INFO 8444 --- [kafobackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-02T01:04:18.705Z  INFO 8444 --- [kafobackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 313 ms. Found 17 JPA repository interfaces.
2025-11-02T01:04:21.382Z  INFO 8444 --- [kafobackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-02T01:04:21.429Z  INFO 8444 --- [kafobackend] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-02T01:04:21.431Z  INFO 8444 --- [kafobackend] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-02T01:04:21.736Z  INFO 8444 --- [kafobackend] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-02T01:04:21.737Z  INFO 8444 --- [kafobackend] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6977 ms
2025-11-02T01:04:22.075Z  INFO 8444 --- [kafobackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-02T01:04:22.698Z  INFO 8444 --- [kafobackend] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@401788d5
2025-11-02T01:04:22.704Z  INFO 8444 --- [kafobackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-02T01:04:23.024Z  INFO 8444 --- [kafobackend] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-02T01:04:23.215Z  INFO 8444 --- [kafobackend] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-11-02T01:04:23.350Z  INFO 8444 --- [kafobackend] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-02T01:04:24.318Z  INFO 8444 --- [kafobackend] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-02T01:04:24.588Z  WARN 8444 --- [kafobackend] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-11-02T01:04:24.649Z  INFO 8444 --- [kafobackend] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-02T01:04:28.991Z  INFO 8444 --- [kafobackend] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-02T01:04:29.100Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    create table attestations_service_fait (
        id bigint not null auto_increment,
        code varchar(20),
        constat varchar(255),
        date_creation date,
        date_livraison date,
        date_modification datetime(6),
        fournisseur varchar(255),
        reference_bon_commande varchar(255),
        titre varchar(255),
        url_fichier_joint varchar(255),
        bon_commande_id bigint,
        cree_par_id bigint,
        entreprise_id bigint,
        primary key (id)
    ) engine=InnoDB
2025-11-02T01:04:29.165Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    create table bons_de_commande (
        id bigint not null auto_increment,
        code varchar(20),
        date_creation date,
        date_execution date,
        date_modification datetime(6),
        delai_paiement date,
        description varchar(255),
        fournisseur varchar(255),
        mode_paiement varchar(255),
        montant_total float(53) not null,
        service_beneficiaire varchar(255),
        statut enum ('APPROUVE','EN_COURS','REJETE','VALIDE'),
        url_pdf varchar(255),
        cree_par_id bigint,
        demande_achat_id bigint,
        entreprise_id bigint,
        primary key (id)
    ) engine=InnoDB
2025-11-02T01:04:29.178Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    create table budgets (
        id bigint not null auto_increment,
        code varchar(20),
        date_creation date,
        date_debut date,
        date_fin date,
        date_modification datetime(6),
        description varchar(255),
        etat bit,
        intitule_budget varchar(255),
        montant_budget float(53) not null,
        statut enum ('APPROUVE','EN_COURS','REJETE','VALIDE'),
        cree_par_id bigint,
        entreprise_id bigint,
        primary key (id)
    ) engine=InnoDB
2025-11-02T01:04:29.189Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    create table commentaires (
        id bigint not null auto_increment,
        contenu varchar(255) not null,
        date_creation datetime(6),
        document_id bigint not null,
        type_document enum ('ATTESTATION_SERVICE_FAIT','BON_COMMANDE','BUDGET','DECISION_PRELEVEMENT','DEMANDE_ACHAT','FICHE_BESOIN','LIGNE_CREDIT','ORDRE_PAIEMENT'),
        utilisateur_id bigint not null,
        primary key (id)
    ) engine=InnoDB
2025-11-02T01:04:29.234Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    create table decisions_prelevement (
        id bigint not null auto_increment,
        code varchar(20),
        compte_destinataire varchar(255),
        compte_origine varchar(255),
        date_creation date,
        date_modification datetime(6),
        montant float(53) not null,
        motif_prelevement varchar(255),
        reference_attestation varchar(255),
        statut enum ('APPROUVE','EN_COURS','REJETE','VALIDE'),
        attestation_service_fait_id bigint,
        cree_par_id bigint,
        entreprise_id bigint,
        ligne_credit_id bigint,
        primary key (id)
    ) engine=InnoDB
2025-11-02T01:04:29.248Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    create table demandes_achat (
        id bigint not null auto_increment,
        code varchar(20),
        date_attendu date,
        date_creation date,
        date_modification datetime(6),
        description varchar(255),
        fournisseur varchar(255),
        montant_total float(53) not null,
        reference_besoin varchar(255),
        service_beneficiaire varchar(255),
        statut enum ('APPROUVE','EN_COURS','REJETE','VALIDE'),
        url_fichier_joint varchar(255),
        cree_par_id bigint,
        entreprise_id bigint,
        fiche_besoin_id bigint,
        primary key (id)
    ) engine=InnoDB
2025-11-02T01:04:29.278Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    create table designations (
        id bigint not null auto_increment,
        date date,
        montant_total float(53) not null,
        prix_unitaire float(53) not null,
        produit varchar(255) not null,
        quantite integer not null,
        fiche_besoin_id bigint not null,
        primary key (id)
    ) engine=InnoDB
2025-11-02T01:04:29.294Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    create table entreprises (
        id bigint not null auto_increment,
        adresse varchar(255),
        date_creation date,
        domaine varchar(255),
        email varchar(255),
        etat bit,
        nom varchar(255) not null,
        telephone varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-11-02T01:04:29.324Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    create table fiches_de_besoin (
        id bigint not null auto_increment,
        code varchar(20),
        date_attendu date,
        date_creation date,
        date_modification datetime(6),
        description varchar(255),
        montant_estime float(53) not null,
        objet varchar(255),
        quantite integer not null,
        service_beneficiaire varchar(255),
        statut enum ('APPROUVE','EN_COURS','REJETE','VALIDE'),
        url_fichier_joint varchar(255),
        cree_par_id bigint,
        entreprise_id bigint,
        primary key (id)
    ) engine=InnoDB
2025-11-02T01:04:29.337Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    create table historiques_actions (
        id bigint not null auto_increment,
        action varchar(255),
        ancien_etat varchar(255),
        ancien_statut varchar(255),
        date_action datetime(6),
        id_document bigint,
        nouveau_etat varchar(255),
        nouveau_statut varchar(255),
        type_document varchar(255),
        entreprise_id bigint,
        utilisateur_id bigint,
        primary key (id)
    ) engine=InnoDB
2025-11-02T01:04:29.350Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    create table lignes_credit (
        id bigint not null auto_increment,
        code varchar(20),
        date_creation date,
        date_debut date,
        date_fin date,
        date_modification datetime(6),
        description varchar(255),
        etat bit not null,
        intitule_ligne varchar(255),
        montant_allouer float(53) not null,
        montant_engager float(53) not null,
        montant_restant float(53) not null,
        statut enum ('APPROUVE','EN_COURS','REJETE','VALIDE'),
        budget_id bigint,
        cree_par_id bigint,
        primary key (id)
    ) engine=InnoDB
2025-11-02T01:04:29.363Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    create table notifications (
        id bigint not null auto_increment,
        date_envoi datetime(6),
        etat bit,
        id_document bigint,
        message varchar(255),
        titre varchar(255),
        transmission bit,
        destinataire_id bigint,
        primary key (id)
    ) engine=InnoDB
2025-11-02T01:04:29.374Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    create table ordres_paiement (
        id bigint not null auto_increment,
        code varchar(20),
        compte_destinataire varchar(255),
        compte_origine varchar(255),
        date_creation date,
        date_execution date,
        date_modification datetime(6),
        description varchar(255),
        montant float(53) not null,
        reference_decision_prelevement varchar(255),
        statut enum ('APPROUVE','EN_COURS','REJETE','VALIDE'),
        cree_par_id bigint,
        decision_id bigint,
        entreprise_id bigint,
        ligne_credit_id bigint,
        primary key (id)
    ) engine=InnoDB
2025-11-02T01:04:29.387Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    create table rapports_achat (
        id bigint not null auto_increment,
        attestation_service_fait varchar(255),
        bon_commande varchar(255),
        date_ajout date,
        decision_prelevement varchar(255),
        demande_achat varchar(255),
        fiche_besoin varchar(255),
        nom varchar(255),
        ordre_paiement varchar(255),
        entreprise_id bigint,
        primary key (id)
    ) engine=InnoDB
2025-11-02T01:04:29.398Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    create table seuils_validation (
        id bigint not null auto_increment,
        actif bit not null,
        date_creation date,
        montant_seuil float(53) not null,
        entreprise_id bigint,
        primary key (id)
    ) engine=InnoDB
2025-11-02T01:04:29.409Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    create table table_validation (
        id bigint not null auto_increment,
        commentaire TEXT,
        date_validation datetime(6),
        id_document bigint not null,
        statut varchar(255) not null,
        type_document enum ('ATTESTATION_SERVICE_FAIT','BON_COMMANDE','BUDGET','DECISION_PRELEVEMENT','DEMANDE_ACHAT','FICHE_BESOIN','LIGNE_CREDIT','ORDRE_PAIEMENT') not null,
        validateur_id bigint not null,
        primary key (id)
    ) engine=InnoDB
2025-11-02T01:04:29.419Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    create table utilisateurs (
        id bigint not null auto_increment,
        departement varchar(255),
        email varchar(255),
        etat bit not null,
        mot_de_passe varchar(255),
        nom varchar(255),
        prenom varchar(255),
        role enum ('ADMIN','COMPTABLE','DIRECTEUR','GESTIONNAIRE','RESPONSABLE','SUPER_ADMIN','TRESORERIE'),
        entreprise_id bigint,
        primary key (id)
    ) engine=InnoDB
2025-11-02T01:04:29.435Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table attestations_service_fait 
       drop index UKc56f6vg8qa4xhjq1uecyx8fce
2025-11-02T01:04:29.541Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table attestations_service_fait 
       add constraint UKc56f6vg8qa4xhjq1uecyx8fce unique (code)
2025-11-02T01:04:29.568Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table attestations_service_fait 
       drop index UKoxqccs1ywmv4t35velluh5fbs
2025-11-02T01:04:29.570Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table attestations_service_fait 
       add constraint UKoxqccs1ywmv4t35velluh5fbs unique (bon_commande_id)
2025-11-02T01:04:29.584Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table bons_de_commande 
       drop index UKnilv5842qj7jg0orq7rln3gd5
2025-11-02T01:04:29.588Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table bons_de_commande 
       add constraint UKnilv5842qj7jg0orq7rln3gd5 unique (code)
2025-11-02T01:04:29.600Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table bons_de_commande 
       drop index UK1yof4qfs0vfnnj556l791qil8
2025-11-02T01:04:29.602Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table bons_de_commande 
       add constraint UK1yof4qfs0vfnnj556l791qil8 unique (demande_achat_id)
2025-11-02T01:04:29.614Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table budgets 
       drop index UK4wd8pr053kxdnl6ko4f5olkcl
2025-11-02T01:04:29.617Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table budgets 
       add constraint UK4wd8pr053kxdnl6ko4f5olkcl unique (code)
2025-11-02T01:04:29.628Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table decisions_prelevement 
       drop index UKmlu97c5x4u4lbgo3h8dgsodun
2025-11-02T01:04:29.631Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table decisions_prelevement 
       add constraint UKmlu97c5x4u4lbgo3h8dgsodun unique (code)
2025-11-02T01:04:29.646Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table decisions_prelevement 
       drop index UK2ccsf1mmcyepa0vtdrbdm36ld
2025-11-02T01:04:29.649Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table decisions_prelevement 
       add constraint UK2ccsf1mmcyepa0vtdrbdm36ld unique (attestation_service_fait_id)
2025-11-02T01:04:29.663Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table demandes_achat 
       drop index UK9yyls4679fvowoh9ng3xau4uf
2025-11-02T01:04:29.666Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table demandes_achat 
       add constraint UK9yyls4679fvowoh9ng3xau4uf unique (code)
2025-11-02T01:04:29.680Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table demandes_achat 
       drop index UKlvwf7k7naht042uenu0lqsri8
2025-11-02T01:04:29.682Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table demandes_achat 
       add constraint UKlvwf7k7naht042uenu0lqsri8 unique (fiche_besoin_id)
2025-11-02T01:04:29.699Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table entreprises 
       drop index UKdidih0bwxh03amb6vj28ek2if
2025-11-02T01:04:29.703Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table entreprises 
       add constraint UKdidih0bwxh03amb6vj28ek2if unique (email)
2025-11-02T01:04:29.731Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table fiches_de_besoin 
       drop index UK6ymu113fxes56v9xy0oea691a
2025-11-02T01:04:29.741Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table fiches_de_besoin 
       add constraint UK6ymu113fxes56v9xy0oea691a unique (code)
2025-11-02T01:04:29.784Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table lignes_credit 
       drop index UKafi3k7m9t6srxnrfhlykddark
2025-11-02T01:04:29.787Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table lignes_credit 
       add constraint UKafi3k7m9t6srxnrfhlykddark unique (code)
2025-11-02T01:04:29.802Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table ordres_paiement 
       drop index UKhw8a74m1f0lx0y9pn6lmurj6i
2025-11-02T01:04:29.805Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table ordres_paiement 
       add constraint UKhw8a74m1f0lx0y9pn6lmurj6i unique (code)
2025-11-02T01:04:29.818Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table ordres_paiement 
       drop index UKlk58jae267tofn9nkrqhxai4s
2025-11-02T01:04:29.821Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table ordres_paiement 
       add constraint UKlk58jae267tofn9nkrqhxai4s unique (decision_id)
2025-11-02T01:04:29.836Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table attestations_service_fait 
       add constraint FKf25ijqg5b5yq2mtg6i2nt0glh 
       foreign key (bon_commande_id) 
       references bons_de_commande (id)
2025-11-02T01:04:29.941Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table attestations_service_fait 
       add constraint FKl2o3pr2kicc6rw6i5q7w2xcli 
       foreign key (cree_par_id) 
       references utilisateurs (id)
2025-11-02T01:04:30.008Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table attestations_service_fait 
       add constraint FKfhukhq9ee5grnnomyi1ffi4yr 
       foreign key (entreprise_id) 
       references entreprises (id)
2025-11-02T01:04:30.074Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table bons_de_commande 
       add constraint FK60144fp8dj5etb7f9qumrlv6b 
       foreign key (cree_par_id) 
       references utilisateurs (id)
2025-11-02T01:04:30.127Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table bons_de_commande 
       add constraint FK8upfeqwbs9hpac4b13u5ehroy 
       foreign key (demande_achat_id) 
       references demandes_achat (id)
2025-11-02T01:04:30.206Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table bons_de_commande 
       add constraint FK63u7n279ghthg0hh11ejctg0s 
       foreign key (entreprise_id) 
       references entreprises (id)
2025-11-02T01:04:30.285Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table budgets 
       add constraint FKmv3irw1d5ma73wcjbfkkvw0io 
       foreign key (cree_par_id) 
       references utilisateurs (id)
2025-11-02T01:04:30.350Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table budgets 
       add constraint FK7066vxd96i2gfxd99js09q7a1 
       foreign key (entreprise_id) 
       references entreprises (id)
2025-11-02T01:04:30.476Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table commentaires 
       add constraint FKnlljhi7ns4pw0fex693352jc8 
       foreign key (utilisateur_id) 
       references utilisateurs (id)
2025-11-02T01:04:30.547Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table decisions_prelevement 
       add constraint FKjbqlqqo30yks9nl0n5251a98g 
       foreign key (attestation_service_fait_id) 
       references attestations_service_fait (id)
2025-11-02T01:04:30.612Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table decisions_prelevement 
       add constraint FKnr1w46aarghomf9duhm7gpu9v 
       foreign key (cree_par_id) 
       references utilisateurs (id)
2025-11-02T01:04:30.692Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table decisions_prelevement 
       add constraint FKtmc7g0y1h6ibjj76xnyv2qyrr 
       foreign key (entreprise_id) 
       references entreprises (id)
2025-11-02T01:04:30.826Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table decisions_prelevement 
       add constraint FKkh6i8k5kub96eu9r4woqin0e6 
       foreign key (ligne_credit_id) 
       references lignes_credit (id)
2025-11-02T01:04:30.973Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table demandes_achat 
       add constraint FKlg5mw7d5yrj0lsnuytg9sxexc 
       foreign key (cree_par_id) 
       references utilisateurs (id)
2025-11-02T01:04:31.092Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table demandes_achat 
       add constraint FKiufcmatkxbdo6th1xhdfwbhsu 
       foreign key (entreprise_id) 
       references entreprises (id)
2025-11-02T01:04:31.160Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table demandes_achat 
       add constraint FK7t3b8hsfa5qj08emlpwhsxosc 
       foreign key (fiche_besoin_id) 
       references fiches_de_besoin (id)
2025-11-02T01:04:31.250Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table designations 
       add constraint FK7ii36e5q053yegflhyhrxel5x 
       foreign key (fiche_besoin_id) 
       references fiches_de_besoin (id)
2025-11-02T01:04:31.315Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table fiches_de_besoin 
       add constraint FKo3m7f30rb3dv41cgcce2ocxrg 
       foreign key (cree_par_id) 
       references utilisateurs (id)
2025-11-02T01:04:31.385Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table fiches_de_besoin 
       add constraint FKru6lbs117dmlp8yuones8jr66 
       foreign key (entreprise_id) 
       references entreprises (id)
2025-11-02T01:04:31.462Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table historiques_actions 
       add constraint FKbft3mylskmpou78n8d40tyy11 
       foreign key (entreprise_id) 
       references entreprises (id)
2025-11-02T01:04:31.536Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table historiques_actions 
       add constraint FK9m5ob9ui3yd0tuggtx2nqbhga 
       foreign key (utilisateur_id) 
       references utilisateurs (id)
2025-11-02T01:04:31.611Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table lignes_credit 
       add constraint FKsmelsbndsx4ju989bcttcxier 
       foreign key (budget_id) 
       references budgets (id)
2025-11-02T01:04:31.678Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table lignes_credit 
       add constraint FKdlxyh0j9jc43pvjb3d04ri569 
       foreign key (cree_par_id) 
       references utilisateurs (id)
2025-11-02T01:04:31.751Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table notifications 
       add constraint FKcb698onmh4p6jeh7eplp9vv02 
       foreign key (destinataire_id) 
       references utilisateurs (id)
2025-11-02T01:04:32.019Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table ordres_paiement 
       add constraint FKibo084irjx8difxl6evbs9rdl 
       foreign key (cree_par_id) 
       references utilisateurs (id)
2025-11-02T01:04:32.451Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table ordres_paiement 
       add constraint FK5c1m9wat76n4wxlug6iwng6m7 
       foreign key (decision_id) 
       references decisions_prelevement (id)
2025-11-02T01:04:32.781Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table ordres_paiement 
       add constraint FKnm5kc3um7a9qb2nlvf6xrif1y 
       foreign key (entreprise_id) 
       references entreprises (id)
2025-11-02T01:04:32.838Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table ordres_paiement 
       add constraint FKssdsncqf4xm6qj96s34rvgj83 
       foreign key (ligne_credit_id) 
       references lignes_credit (id)
2025-11-02T01:04:32.891Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table rapports_achat 
       add constraint FKcs7xgkd1cqgbbv8waopxeu5s5 
       foreign key (entreprise_id) 
       references entreprises (id)
2025-11-02T01:04:32.954Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table seuils_validation 
       add constraint FKi2wlkl804yeg3nvjoh5ha2124 
       foreign key (entreprise_id) 
       references entreprises (id)
2025-11-02T01:04:33.039Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table table_validation 
       add constraint FKb36ctg3xwxln2g1yde4kt9o9o 
       foreign key (validateur_id) 
       references utilisateurs (id)
2025-11-02T01:04:33.109Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    alter table utilisateurs 
       add constraint FKq5gclyjupg1me040fbbm7efaw 
       foreign key (entreprise_id) 
       references entreprises (id)
2025-11-02T01:04:33.164Z  INFO 8444 --- [kafobackend] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-02T01:04:34.353Z  INFO 8444 --- [kafobackend] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-02T01:04:38.949Z DEBUG 8444 --- [kafobackend] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 137 mappings in 'requestMappingHandlerMapping'
2025-11-02T01:04:39.405Z DEBUG 8444 --- [kafobackend] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui/swagger-ui*/*swagger-initializer.js, /swagger-ui/swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-02T01:04:39.503Z  INFO 8444 --- [kafobackend] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-11-02T01:04:40.085Z  INFO 8444 --- [kafobackend] [main] o.s.v.b.OptionalValidatorFactoryBean     : Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-11-02T01:04:40.299Z DEBUG 8444 --- [kafobackend] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-02T01:04:40.558Z DEBUG 8444 --- [kafobackend] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-02T01:04:41.650Z  INFO 8444 --- [kafobackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-02T01:04:41.701Z  INFO 8444 --- [kafobackend] [main] kafofond.KafobackendApplication          : Started KafobackendApplication in 28.626 seconds (process running for 29.779)
2025-11-02T01:04:41.711Z  INFO 8444 --- [kafobackend] [main] kafofond.config.DataInitializer          : Initialisation des données de l'application...
2025-11-02T01:04:42.157Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        entreprises e1_0
2025-11-02T01:04:42.483Z  INFO 8444 --- [kafobackend] [main] kafofond.config.DataInitializer          : Aucune entreprise trouvée, création de l'entreprise par défaut...
2025-11-02T01:04:42.519Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    insert 
    into
        entreprises
        (adresse, date_creation, domaine, email, etat, nom, telephone) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-02T01:04:42.568Z  INFO 8444 --- [kafobackend] [main] kafofond.config.DataInitializer          : Entreprise créée avec succès : KafoFond
2025-11-02T01:04:42.691Z DEBUG 8444 --- [kafobackend] [main] org.hibernate.SQL                        : 
    insert 
    into
        utilisateurs
        (departement, email, entreprise_id, etat, mot_de_passe, nom, prenom, role) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-02T01:04:42.709Z  INFO 8444 --- [kafobackend] [main] kafofond.config.DataInitializer          : Super admin créé avec succès : super@kafofond.com
2025-11-02T01:04:42.710Z  INFO 8444 --- [kafobackend] [main] kafofond.config.DataInitializer          : Initialisation des données terminée.
2025-11-02T01:17:57.304Z  INFO 8444 --- [kafobackend] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-02T01:17:57.727Z  INFO 8444 --- [kafobackend] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-02T01:17:57.770Z  INFO 8444 --- [kafobackend] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-02T01:17:57.826Z  INFO 8444 --- [kafobackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-02T01:17:57.878Z  INFO 8444 --- [kafobackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-02T01:18:23.238Z  INFO 5580 --- [kafobackend] [main] kafofond.KafobackendApplication          : Starting KafobackendApplication using Java 17.0.15 with PID 5580 (C:\Users\Hamza SANMO\Desktop\kafoBackend\target\classes started by Hamza SANMO in C:\Users\Hamza SANMO\Desktop\kafoBackend)
2025-11-02T01:18:23.251Z  INFO 5580 --- [kafobackend] [main] kafofond.KafobackendApplication          : The following 2 profiles are active: "prod", "secrets"
2025-11-02T01:18:26.967Z  INFO 5580 --- [kafobackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-02T01:18:27.398Z  INFO 5580 --- [kafobackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 398 ms. Found 17 JPA repository interfaces.
2025-11-02T01:18:29.807Z  INFO 5580 --- [kafobackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-02T01:18:29.848Z  INFO 5580 --- [kafobackend] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-02T01:18:29.849Z  INFO 5580 --- [kafobackend] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-02T01:18:30.098Z  INFO 5580 --- [kafobackend] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-02T01:18:30.100Z  INFO 5580 --- [kafobackend] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6640 ms
2025-11-02T01:18:30.434Z  INFO 5580 --- [kafobackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-02T01:18:31.016Z  INFO 5580 --- [kafobackend] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@19eea77c
2025-11-02T01:18:31.021Z  INFO 5580 --- [kafobackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-02T01:18:31.335Z  INFO 5580 --- [kafobackend] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-02T01:18:31.592Z  INFO 5580 --- [kafobackend] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-11-02T01:18:31.718Z  INFO 5580 --- [kafobackend] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-02T01:18:33.488Z  INFO 5580 --- [kafobackend] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-02T01:18:33.764Z  WARN 5580 --- [kafobackend] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-11-02T01:18:33.823Z  INFO 5580 --- [kafobackend] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-02T01:18:37.909Z  INFO 5580 --- [kafobackend] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-02T01:18:38.672Z  INFO 5580 --- [kafobackend] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-02T01:18:39.957Z  INFO 5580 --- [kafobackend] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-02T01:18:45.213Z DEBUG 5580 --- [kafobackend] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 137 mappings in 'requestMappingHandlerMapping'
2025-11-02T01:18:45.610Z DEBUG 5580 --- [kafobackend] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui/swagger-ui*/*swagger-initializer.js, /swagger-ui/swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-02T01:18:45.682Z  INFO 5580 --- [kafobackend] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-11-02T01:18:46.252Z  INFO 5580 --- [kafobackend] [main] o.s.v.b.OptionalValidatorFactoryBean     : Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-11-02T01:18:46.345Z DEBUG 5580 --- [kafobackend] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-02T01:18:46.521Z DEBUG 5580 --- [kafobackend] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-02T01:18:47.350Z  INFO 5580 --- [kafobackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-02T01:18:47.378Z  INFO 5580 --- [kafobackend] [main] kafofond.KafobackendApplication          : Started KafobackendApplication in 26.294 seconds (process running for 27.511)
2025-11-02T01:18:47.386Z  INFO 5580 --- [kafobackend] [main] kafofond.config.DataInitializer          : Initialisation des données de l'application...
2025-11-02T01:18:47.644Z DEBUG 5580 --- [kafobackend] [main] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        entreprises e1_0
2025-11-02T01:18:47.694Z  INFO 5580 --- [kafobackend] [main] kafofond.config.DataInitializer          : Des entreprises existent déjà, vérification de l'existence d'un super admin...
2025-11-02T01:18:47.858Z DEBUG 5580 --- [kafobackend] [main] org.hibernate.SQL                        : 
    select
        count(u1_0.id) 
    from
        utilisateurs u1_0 
    where
        u1_0.role=?
2025-11-02T01:18:47.868Z  INFO 5580 --- [kafobackend] [main] kafofond.config.DataInitializer          : Initialisation des données terminée.
2025-11-02T01:19:08.060Z  INFO 5580 --- [kafobackend] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-02T01:19:08.061Z  INFO 5580 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-02T01:19:08.061Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-11-02T01:19:08.062Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedLocaleResolver
2025-11-02T01:19:08.062Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-11-02T01:19:08.064Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2728e166
2025-11-02T01:19:08.066Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@19507769
2025-11-02T01:19:08.067Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-02T01:19:08.067Z  INFO 5580 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-11-02T01:19:08.183Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-11-02T01:19:08.189Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-11-02T01:19:08.240Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, text/html;q=0.8]
2025-11-02T01:19:08.257Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-11-02T01:19:08.675Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-11-02T01:19:08.677Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-11-02T01:19:08.734Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-11-02T01:19:08.739Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Sun Nov 02 01:19:08 GMT 2025, status=403, error=Forbidden, path=/favicon.ico}]
2025-11-02T01:19:08.880Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-11-02T01:19:20.266Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-11-02T01:19:20.268Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-11-02T01:19:20.271Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-11-02T01:19:20.271Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Sun Nov 02 01:19:20 GMT 2025, status=403, error=Forbidden, path=/favicon.ico}]
2025-11-02T01:19:20.275Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-11-02T01:21:00.038Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/index.html", parameters={}
2025-11-02T01:21:00.040Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.ui.SwaggerWelcomeWebMvc#redirectToUi(HttpServletRequest)
2025-11-02T01:21:00.155Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/xhtml+xml', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-11-02T01:21:00.155Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-11-02T01:21:00.157Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-11-02T01:21:00.176Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui/index.html", parameters={}
2025-11-02T01:21:00.180Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-02T01:21:00.196Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-02T01:21:00.273Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui/swagger-ui.css", parameters={}
2025-11-02T01:21:00.281Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-02T01:21:00.287Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui/index.css", parameters={}
2025-11-02T01:21:00.289Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-02T01:21:00.301Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-02T01:21:00.311Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-11-02T01:21:00.313Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-02T01:21:00.316Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-02T01:21:00.338Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui/swagger-initializer.js", parameters={}
2025-11-02T01:21:00.345Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-11-02T01:21:00.348Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-02T01:21:00.350Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-02T01:21:00.409Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-02T01:21:00.420Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-02T01:21:00.443Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-02T01:21:00.971Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/v3/api-docs/swagger-config", parameters={}
2025-11-02T01:21:00.972Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-11-02T01:21:00.978Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json]
2025-11-02T01:21:00.984Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/swagger-u (truncated)...]
2025-11-02T01:21:00.985Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui/favicon-32x32.png", parameters={}
2025-11-02T01:21:00.986Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-02T01:21:00.989Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-02T01:21:01.001Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-02T01:21:01.023Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/v3/api-docs", parameters={}
2025-11-02T01:21:01.028Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-11-02T01:21:06.005Z  INFO 5580 --- [kafobackend] [http-nio-8080-exec-6] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 4943 ms
2025-11-02T01:21:06.139Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, */*] and supported [application/json]
2025-11-02T01:21:06.238Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-11-02T01:21:06.449Z DEBUG 5580 --- [kafobackend] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-02T01:29:02.659Z  INFO 5580 --- [kafobackend] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-02T01:29:03.097Z  INFO 5580 --- [kafobackend] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-02T01:29:03.130Z  INFO 5580 --- [kafobackend] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-02T01:29:03.140Z  INFO 5580 --- [kafobackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-02T01:29:03.171Z  INFO 5580 --- [kafobackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-02T08:00:22.962Z  INFO 14624 --- [kafobackend] [main] kafofond.KafobackendApplication          : Starting KafobackendApplication using Java 17.0.15 with PID 14624 (C:\Users\Hamza SANMO\Desktop\kafoBackend\target\classes started by Hamza SANMO in C:\Users\Hamza SANMO\Desktop\kafoBackend)
2025-11-02T08:00:22.972Z  INFO 14624 --- [kafobackend] [main] kafofond.KafobackendApplication          : The following 2 profiles are active: "prod", "secrets"
2025-11-02T08:00:26.514Z  INFO 14624 --- [kafobackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-02T08:00:26.928Z  INFO 14624 --- [kafobackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 374 ms. Found 17 JPA repository interfaces.
2025-11-02T08:00:29.654Z  INFO 14624 --- [kafobackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-02T08:00:29.702Z  INFO 14624 --- [kafobackend] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-02T08:00:29.703Z  INFO 14624 --- [kafobackend] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-02T08:00:29.967Z  INFO 14624 --- [kafobackend] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-02T08:00:29.970Z  INFO 14624 --- [kafobackend] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6836 ms
2025-11-02T08:00:30.036Z ERROR 14624 --- [kafobackend] [main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\Hamza SANMO\Desktop\kafoBackend\target\classes\kafofond\config\jwt\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtTokenProvider': Injection of autowired dependencies failed
2025-11-02T08:00:30.134Z  INFO 14624 --- [kafobackend] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-11-02T08:00:30.327Z  WARN 14624 --- [kafobackend] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-11-02T08:00:30.366Z  INFO 14624 --- [kafobackend] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-02T08:00:30.419Z ERROR 14624 --- [kafobackend] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:170) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.6.jar:3.5.6]
	at kafofond.KafobackendApplication.main(KafobackendApplication.java:12) ~[classes/:na]
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167) ~[spring-boot-3.5.6.jar:3.5.6]
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\Hamza SANMO\Desktop\kafoBackend\target\classes\kafofond\config\jwt\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtTokenProvider': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:230) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:184) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:179) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:164) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:96) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4464) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:773) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:412) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:438) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128) ~[spring-boot-3.5.6.jar:3.5.6]
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jwtTokenProvider': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:515) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1698) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.11.jar:6.2.11]
	... 54 common frames omitted
Caused by: org.springframework.util.PlaceholderResolutionException: Could not resolve placeholder 'JWT_SECRET=f1d8e2a9b8c6d7e1f3a4b9c8d1e2f3a7b6c5d4e3f2a1b0c9' in value "${JWT_SECRET=f1d8e2a9b8c6d7e1f3a4b9c8d1e2f3a7b6c5d4e3f2a1b0c9}" <-- "${jwt.secret}"
	at org.springframework.util.PlaceholderResolutionException.withValue(PlaceholderResolutionException.java:81) ~[spring-core-6.2.11.jar:6.2.11]
	at org.springframework.util.PlaceholderParser$ParsedValue.resolve(PlaceholderParser.java:423) ~[spring-core-6.2.11.jar:6.2.11]
	at org.springframework.util.PlaceholderParser.replacePlaceholders(PlaceholderParser.java:128) ~[spring-core-6.2.11.jar:6.2.11]
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:118) ~[spring-core-6.2.11.jar:6.2.11]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:114) ~[spring-core-6.2.11.jar:6.2.11]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:293) ~[spring-core-6.2.11.jar:6.2.11]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:264) ~[spring-core-6.2.11.jar:6.2.11]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:186) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:970) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1665) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.11.jar:6.2.11]
	... 65 common frames omitted

2025-11-02T08:07:18.035Z  INFO 11136 --- [kafobackend] [main] kafofond.KafobackendApplication          : Starting KafobackendApplication using Java 17.0.15 with PID 11136 (C:\Users\Hamza SANMO\Desktop\kafoBackend\target\classes started by Hamza SANMO in C:\Users\Hamza SANMO\Desktop\kafoBackend)
2025-11-02T08:07:18.042Z  INFO 11136 --- [kafobackend] [main] kafofond.KafobackendApplication          : The following 2 profiles are active: "prod", "secrets"
2025-11-02T08:07:21.621Z  INFO 11136 --- [kafobackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-02T08:07:21.984Z  INFO 11136 --- [kafobackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 334 ms. Found 17 JPA repository interfaces.
2025-11-02T08:07:24.651Z  INFO 11136 --- [kafobackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-02T08:07:24.691Z  INFO 11136 --- [kafobackend] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-02T08:07:24.691Z  INFO 11136 --- [kafobackend] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-02T08:07:24.945Z  INFO 11136 --- [kafobackend] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-02T08:07:24.946Z  INFO 11136 --- [kafobackend] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6776 ms
2025-11-02T08:07:25.003Z ERROR 11136 --- [kafobackend] [main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\Hamza SANMO\Desktop\kafoBackend\target\classes\kafofond\config\jwt\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtTokenProvider': Injection of autowired dependencies failed
2025-11-02T08:07:25.082Z  INFO 11136 --- [kafobackend] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-11-02T08:07:25.113Z  WARN 11136 --- [kafobackend] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-11-02T08:07:25.141Z  INFO 11136 --- [kafobackend] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-02T08:07:25.241Z ERROR 11136 --- [kafobackend] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:170) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.6.jar:3.5.6]
	at kafofond.KafobackendApplication.main(KafobackendApplication.java:12) ~[classes/:na]
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167) ~[spring-boot-3.5.6.jar:3.5.6]
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\Hamza SANMO\Desktop\kafoBackend\target\classes\kafofond\config\jwt\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtTokenProvider': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:230) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:184) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:179) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:164) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:96) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4464) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:773) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:412) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:438) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128) ~[spring-boot-3.5.6.jar:3.5.6]
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jwtTokenProvider': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:515) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1698) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.11.jar:6.2.11]
	... 54 common frames omitted
Caused by: org.springframework.util.PlaceholderResolutionException: Could not resolve placeholder 'JWT_SECRET' in value "${JWT_SECRET}" <-- "${jwt.secret}"
	at org.springframework.util.PlaceholderResolutionException.withValue(PlaceholderResolutionException.java:81) ~[spring-core-6.2.11.jar:6.2.11]
	at org.springframework.util.PlaceholderParser$ParsedValue.resolve(PlaceholderParser.java:423) ~[spring-core-6.2.11.jar:6.2.11]
	at org.springframework.util.PlaceholderParser.replacePlaceholders(PlaceholderParser.java:128) ~[spring-core-6.2.11.jar:6.2.11]
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:118) ~[spring-core-6.2.11.jar:6.2.11]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:114) ~[spring-core-6.2.11.jar:6.2.11]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:293) ~[spring-core-6.2.11.jar:6.2.11]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:264) ~[spring-core-6.2.11.jar:6.2.11]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:186) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:970) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1665) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.11.jar:6.2.11]
	... 65 common frames omitted

2025-11-02T08:08:12.422Z  INFO 14028 --- [kafobackend] [main] kafofond.KafobackendApplication          : Starting KafobackendApplication using Java 17.0.15 with PID 14028 (C:\Users\Hamza SANMO\Desktop\kafoBackend\target\classes started by Hamza SANMO in C:\Users\Hamza SANMO\Desktop\kafoBackend)
2025-11-02T08:08:12.432Z  INFO 14028 --- [kafobackend] [main] kafofond.KafobackendApplication          : The following 2 profiles are active: "prod", "secrets"
2025-11-02T08:08:15.958Z  INFO 14028 --- [kafobackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-02T08:08:16.308Z  INFO 14028 --- [kafobackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 322 ms. Found 17 JPA repository interfaces.
2025-11-02T08:08:18.869Z  INFO 14028 --- [kafobackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-02T08:08:18.906Z  INFO 14028 --- [kafobackend] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-02T08:08:18.907Z  INFO 14028 --- [kafobackend] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-02T08:08:19.136Z  INFO 14028 --- [kafobackend] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-02T08:08:19.137Z  INFO 14028 --- [kafobackend] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6554 ms
2025-11-02T08:08:19.437Z  INFO 14028 --- [kafobackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-02T08:08:19.992Z  INFO 14028 --- [kafobackend] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@23648d2d
2025-11-02T08:08:19.996Z  INFO 14028 --- [kafobackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-02T08:08:20.350Z  INFO 14028 --- [kafobackend] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-02T08:08:20.552Z  INFO 14028 --- [kafobackend] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-11-02T08:08:20.702Z  INFO 14028 --- [kafobackend] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-02T08:08:21.708Z  INFO 14028 --- [kafobackend] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-02T08:08:21.962Z  WARN 14028 --- [kafobackend] [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-11-02T08:08:22.021Z  INFO 14028 --- [kafobackend] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-02T08:08:25.902Z  INFO 14028 --- [kafobackend] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-02T08:08:26.468Z  INFO 14028 --- [kafobackend] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-02T08:08:27.575Z  INFO 14028 --- [kafobackend] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-02T08:08:31.804Z DEBUG 14028 --- [kafobackend] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 137 mappings in 'requestMappingHandlerMapping'
2025-11-02T08:08:32.198Z DEBUG 14028 --- [kafobackend] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui/swagger-ui*/*swagger-initializer.js, /swagger-ui/swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-02T08:08:32.295Z  INFO 14028 --- [kafobackend] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-11-02T08:08:32.955Z  INFO 14028 --- [kafobackend] [main] o.s.v.b.OptionalValidatorFactoryBean     : Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-11-02T08:08:33.136Z DEBUG 14028 --- [kafobackend] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-02T08:08:33.361Z DEBUG 14028 --- [kafobackend] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-02T08:08:33.970Z  INFO 14028 --- [kafobackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-02T08:08:33.995Z  INFO 14028 --- [kafobackend] [main] kafofond.KafobackendApplication          : Started KafobackendApplication in 23.078 seconds (process running for 24.179)
2025-11-02T08:08:34.004Z  INFO 14028 --- [kafobackend] [main] kafofond.config.DataInitializer          : Initialisation des données de l'application...
2025-11-02T08:08:34.213Z DEBUG 14028 --- [kafobackend] [main] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        entreprises e1_0
2025-11-02T08:08:34.262Z  INFO 14028 --- [kafobackend] [main] kafofond.config.DataInitializer          : Des entreprises existent déjà, vérification de l'existence d'un super admin...
2025-11-02T08:08:34.374Z DEBUG 14028 --- [kafobackend] [main] org.hibernate.SQL                        : 
    select
        count(u1_0.id) 
    from
        utilisateurs u1_0 
    where
        u1_0.role=?
2025-11-02T08:08:34.382Z  INFO 14028 --- [kafobackend] [main] kafofond.config.DataInitializer          : Initialisation des données terminée.
2025-11-02T08:10:42.266Z  INFO 14028 --- [kafobackend] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-02T08:10:42.266Z  INFO 14028 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-02T08:10:42.267Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-11-02T08:10:42.268Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedLocaleResolver
2025-11-02T08:10:42.268Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-11-02T08:10:42.276Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3f2b55f8
2025-11-02T08:10:42.277Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1d81dece
2025-11-02T08:10:42.278Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-02T08:10:42.279Z  INFO 14028 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2025-11-02T08:10:42.360Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui/index.html", parameters={}
2025-11-02T08:10:42.369Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-02T08:10:42.491Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-02T08:10:42.595Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui/swagger-ui.css", parameters={}
2025-11-02T08:10:42.599Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-02T08:10:42.614Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-02T08:10:42.631Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui/index.css", parameters={}
2025-11-02T08:10:42.634Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-02T08:10:42.645Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-02T08:10:42.647Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-11-02T08:10:42.649Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-02T08:10:42.686Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui/swagger-initializer.js", parameters={}
2025-11-02T08:10:42.686Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-11-02T08:10:42.695Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-02T08:10:42.695Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-02T08:10:42.731Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-02T08:10:42.790Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-02T08:10:42.849Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-02T08:10:43.461Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui/favicon-32x32.png", parameters={}
2025-11-02T08:10:43.461Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/v3/api-docs/swagger-config", parameters={}
2025-11-02T08:10:43.462Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-11-02T08:10:43.463Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-02T08:10:43.476Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-02T08:10:43.541Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json]
2025-11-02T08:10:44.300Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/swagger-u (truncated)...]
2025-11-02T08:10:44.313Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-02T08:10:44.340Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/v3/api-docs", parameters={}
2025-11-02T08:10:44.342Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-11-02T08:10:50.052Z  INFO 14028 --- [kafobackend] [http-nio-8080-exec-9] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 5677 ms
2025-11-02T08:10:50.189Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, */*] and supported [application/json]
2025-11-02T08:10:50.222Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-11-02T08:10:50.224Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-02T08:11:56.517Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-11-02T08:11:56.518Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to kafofond.controller.AuthController#login(LoginRequest)
2025-11-02T08:11:56.549Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(email=super@kafofond.com, motDePasse=password123)]
2025-11-02T08:11:56.557Z  INFO 14028 --- [kafobackend] [http-nio-8080-exec-3] kafofond.controller.AuthController       : Tentative de connexion pour l'utilisateur super@kafofond.com
2025-11-02T08:11:56.566Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.departement,
        u1_0.email,
        u1_0.entreprise_id,
        u1_0.etat,
        u1_0.mot_de_passe,
        u1_0.nom,
        u1_0.prenom,
        u1_0.role 
    from
        utilisateurs u1_0 
    where
        u1_0.email=?
2025-11-02T08:11:56.905Z ERROR 14028 --- [kafobackend] [http-nio-8080-exec-3] kafofond.controller.AuthController       : Erreur lors de la connexion : The signing key's size is 384 bits which is not secure enough for the HS512 algorithm.  The JWT JWA Specification (RFC 7518, Section 3.2) states that keys used with HS512 MUST have a size >= 512 bits (the key size must be greater than or equal to the hash output size).  Consider using the io.jsonwebtoken.security.Keys class's 'secretKeyFor(SignatureAlgorithm.HS512)' method to create a key guaranteed to be secure enough for HS512.  See https://tools.ietf.org/html/rfc7518#section-3.2 for more information.
2025-11-02T08:11:56.912Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-11-02T08:11:56.913Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=The signing key's size is 384 bits which is not secure enough for the HS512 algorithm.  The (truncated)...]
2025-11-02T08:11:56.915Z DEBUG 14028 --- [kafobackend] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-11-02T08:14:40.795Z  INFO 14028 --- [kafobackend] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-02T08:14:41.272Z  INFO 14028 --- [kafobackend] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-02T08:14:41.299Z  INFO 14028 --- [kafobackend] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-02T08:14:41.307Z  INFO 14028 --- [kafobackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-02T08:14:41.325Z  INFO 14028 --- [kafobackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
